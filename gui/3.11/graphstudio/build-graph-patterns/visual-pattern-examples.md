![TigerGraph Logo](https://www.tigergraph.com/wp-content/uploads/2020/05/TG_LOGO.svg) [Docs](https://docs.tigergraph.com/home)
Page 1[Prev](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)[Next](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)
Search by [Algolia](https://www.algolia.com/docsearch)
[Products](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)
TigerGraph Savanna
[TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/) [(_TigerGraph Cloud Classic_)](https://docs.tigergraph.com/cloud/main/start/overview)
TigerGraph Server
[TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
TigerGraph Suite
[GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Insights](https://docs.tigergraph.com/insights/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web)
Query Languages
[GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql)
AI & Graph Intelligence
[Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/) [Hybrid Graph+Vector Search](https://docs.tigergraph.com/gsql-ref/current/vector/)
Connectors and APIs
[Data Connectors](https://docs.tigergraph.com/tigergraph-server/current/data-loading) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/) [JDBC Driver](https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver)
Legacy Documentation
[ Legacy Documentation ](https://docs-legacy.tigergraph.com)
[Resources](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)
[Developer Site](https://dev.tigergraph.com/) [Community Forum](https://community.tigergraph.com/) [Knowledge Base](https://tigergraph.freshdesk.com/support/solutions)
[Download](https://dl.tigergraph.com)
[ TG Savanna](https://savanna.tgcloud.io)
### [GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/3.11/intro/)
  *     * [Overview](https://docs.tigergraph.com/gui/3.11/intro/)
  *     * GraphStudio
      * [Overview](https://docs.tigergraph.com/gui/3.11/graphstudio/overview)
      * [Authentication](https://docs.tigergraph.com/gui/3.11/graphstudio/user-access-management)
      * [Design Schema](https://docs.tigergraph.com/gui/3.11/graphstudio/design-schema)
      * [Load Data](https://docs.tigergraph.com/gui/3.11/graphstudio/load-data)
        * [Data Transformation](https://docs.tigergraph.com/gui/3.11/graphstudio/data-transformation)
      * [Explore Graph](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/README)
        * [Graph Exploration Panel](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/graph-exploration-panel)
        * [Search for Vertices](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/search-for-vertices)
        * [Expand from Vertices](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/expand-from-vertices)
        * [Find Paths between Vertices](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/find-paths-between-vertices)
        * [Run GSQL Queries](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/run-gsql-queries)
        * [Augment Visualization Result](https://docs.tigergraph.com/gui/3.11/graphstudio/explore-graph/augment-visualization-result)
      * Build Graph Patterns (Deprecated)
        * [Visual Query Builder](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-query-builder-overview)
        * [Visual Pattern Examples](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)
      * [Write Queries](https://docs.tigergraph.com/gui/3.11/graphstudio/write-queries)
      * [Write openCypher Queries in TigerGraph](https://docs.tigergraph.com/gui/3.11/graphstudio/write-open-cypher-queries-in-tigergraph)
      * [Actions](https://docs.tigergraph.com/gui/3.11/graphstudio/actions)
      * [Migrate From Relational Database](https://docs.tigergraph.com/gui/3.11/graphstudio/migrate-from-relational-database)
      * [Export and Import Solution](https://docs.tigergraph.com/gui/3.11/graphstudio/export-and-import-solution)
      * [Keyboard Shortcuts](https://docs.tigergraph.com/gui/3.11/graphstudio/keyboard-shortcuts)
      * [Known Issues](https://docs.tigergraph.com/gui/3.11/graphstudio/known-issues)
      * [ZoomChart Update](https://docs.tigergraph.com/gui/3.11/graphstudio/graphstudio-zoomchart-update)
      * [GraphStudio Patent and Third Party Notice](https://docs.tigergraph.com/gui/3.11/graphstudio/patent-and-third-party-notice)
      * [License](https://docs.tigergraph.com/gui/3.11/graphstudio/license)
  *     * Admin Portal
      * [Overview](https://docs.tigergraph.com/gui/3.11/admin-portal/overview)
      * [Dashboard](https://docs.tigergraph.com/gui/3.11/admin-portal/dashboard)
      * [Monitor](https://docs.tigergraph.com/gui/3.11/admin-portal/monitoring/README)
        * [Queries](https://docs.tigergraph.com/gui/3.11/admin-portal/monitoring/queries)
        * [Logs](https://docs.tigergraph.com/gui/3.11/admin-portal/monitoring/log-viewer)
      * [Management](https://docs.tigergraph.com/gui/3.11/admin-portal/management/README)
        * [License](https://docs.tigergraph.com/gui/3.11/admin-portal/management/license)
        * [User Management](https://docs.tigergraph.com/gui/3.11/admin-portal/management/user-management)
        * [Components](https://docs.tigergraph.com/gui/3.11/admin-portal/components/README)
          * [GPE](https://docs.tigergraph.com/gui/3.11/admin-portal/components/gpe)
          * [GSQL](https://docs.tigergraph.com/gui/3.11/admin-portal/components/gsql)
          * [Application Server (GUI)](https://docs.tigergraph.com/gui/3.11/admin-portal/components/gui)
          * [Kafka](https://docs.tigergraph.com/gui/3.11/admin-portal/components/kafka)
          * [Nginx](https://docs.tigergraph.com/gui/3.11/admin-portal/components/nginx)
          * [RESTPP](https://docs.tigergraph.com/gui/3.11/admin-portal/components/restpp)
          * [Change Data Capture (CDC)](https://docs.tigergraph.com/gui/3.11/admin-portal/components/cdc)
      * Security
        * [LDAP](https://docs.tigergraph.com/gui/3.11/admin-portal/security/ldap)
        * [Single Sign-on (SSO)](https://docs.tigergraph.com/gui/3.11/admin-portal/security/sso)
        * [Set up SSO with Azure Active Directory](https://docs.tigergraph.com/gui/3.11/admin-portal/security/sso-aad)
        * [SSO.OIDC via Okta](https://docs.tigergraph.com/gui/3.11/admin-portal/security/sso-oidc-okta)
        * [Multi-factor Authentication](https://docs.tigergraph.com/gui/3.11/admin-portal/security/mfa)
      * [Query Output File Download](https://docs.tigergraph.com/gui/3.11/admin-portal/gsql-output-file)
      * [Known Issues](https://docs.tigergraph.com/gui/3.11/admin-portal/known-issues)
    * [Legacy Version Documentation](https://docs.tigergraph.com/gui/3.11/intro/legacy-tg-versions)


GraphStudio and Admin Portal 3.11
[Fully-Managed: Savanna](https://docs.tigergraph.com/savanna/main/overview/)
[Self-Managed: TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
[Install](https://docs.tigergraph.com/tigergraph-server/current/getting-started/) [Manage](https://docs.tigergraph.com/tigergraph-server/current/system-management/)
Tutorials & Guides
[GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/GSQL.md) [OpenCypher in GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/Cypher.md) [Hybrid Vector Search](https://github.com/tigergraph/ecosys/blob/master/tutorials/VectorSearch.md)
Reference Manuals
[GSQL](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql/) [Vector](https://docs.tigergraph.com/gsql-ref/current/vector/) [REST APIs](https://docs.tigergraph.com/tigergraph-server/current/api/) [Configuration Parameters](https://docs.tigergraph.com/tigergraph-server/current/reference/configuration-parameters)
Visual Tools
[Develop: GraphStudio](https://docs.tigergraph.com/gui/4.2/intro/) [Administer: Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Visualize: Insights](https://docs.tigergraph.com/insights/4.2/intro/)
AI & Data Science
[Graph Algorithms](https://docs.tigergraph.com/graph-ml/3.10/intro/) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraphX](https://github.com/tigergraph/ecosys/blob/master/tutorials/TigerGraphX.md) [ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/) [CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/tigergraph-server/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/tigergraph-server/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/tigergraph-server/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/tigergraph-server/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/tigergraph-server/3.6/intro/)
  * [GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gsql-ref/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gsql-ref/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gsql-ref/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gsql-ref/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gsql-ref/3.6/intro/intro)
  * [TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/)
  * [GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gui/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gui/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gui/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gui/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gui/3.6/graphstudio/overview)
  * [Insights](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/insights/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/insights/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/insights/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/insights/3.9/intro/)
  * [Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/)
    * [3.10](https://docs.tigergraph.com/graph-ml/3.10/intro/)
  * [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.8](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.7](https://docs.tigergraph.com/pytigergraph/1.7/intro/)
    * [1.6](https://docs.tigergraph.com/pytigergraph/1.6/intro/)
  * [TigerGraph ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
    * [1.4](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
  * [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/)
    * [3.9](https://docs.tigergraph.com/graphql/3.9/)
  * [TigerGraph CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
    * [main](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph Cloud Classic](https://docs.tigergraph.com/cloud/main/start/overview)


[](https://docs.tigergraph.com/home/)
  * [GraphStudio and Admin Portal 3.11](https://docs.tigergraph.com/gui/3.11/intro/)
  * GraphStudio
  * Build Graph Patterns (Deprecated)
  * [Visual Pattern Examples](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples)


[Edit this Page](https://github.com/tigergraph/gui-docs/edit/3.11/modules/graphstudio/pages/build-graph-patterns/visual-pattern-examples.adoc)
### Contents
  * [Example 1. Find all the departments with male employees](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_1_find_all_the_departments_with_male_employees)
  * [Example 2. Find all such people A, B, C: A and B are friends, A and C are friends, and B manages C.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_2_find_all_such_people_a_b_c_a_and_b_are_friends_a_and_c_are_friends_and_b_manages_c)
  * [Example 3. Find the top 2 cities where the most number of companies of an industry are located in.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-3-find-the-top-2-cities-where-the-most-number-of-companies-of-an-industry-are-located-in)
  * [Example 4. Find the people who either were born in Redwood City or attended Stanford university, but didn’t work for Hooli.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-4-find-the-people-who-either-were-born-in-redwood-city-or-attended-stanford-university-but-didnt-work-for-hooli)
  * [Example 5. Find all the people that were born in a city with population no more than 100,000, worked for Graphlet, and have research skill.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-5-find-all-the-people-that-were-born-in-a-city-with-population-no-more-than-100000-worked-for-graphlet-and-have-research-skill)
  * [Example 6. Giving a person P, among all his direct friends and friends' friends who have programming skill, what are the top 5 other skills that most of these people have?](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-6-giving-a-person-p-among-all-his-direct-friends-and-friends-friends-who-have-programming-skill-what-are-the-top-5-other-skills-that-most-of-these-people-have)


# Visual Pattern Examples
### Contents
  * [Example 1. Find all the departments with male employees](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_1_find_all_the_departments_with_male_employees)
  * [Example 2. Find all such people A, B, C: A and B are friends, A and C are friends, and B manages C.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_2_find_all_such_people_a_b_c_a_and_b_are_friends_a_and_c_are_friends_and_b_manages_c)
  * [Example 3. Find the top 2 cities where the most number of companies of an industry are located in.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-3-find-the-top-2-cities-where-the-most-number-of-companies-of-an-industry-are-located-in)
  * [Example 4. Find the people who either were born in Redwood City or attended Stanford university, but didn’t work for Hooli.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-4-find-the-people-who-either-were-born-in-redwood-city-or-attended-stanford-university-but-didnt-work-for-hooli)
  * [Example 5. Find all the people that were born in a city with population no more than 100,000, worked for Graphlet, and have research skill.](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-5-find-all-the-people-that-were-born-in-a-city-with-population-no-more-than-100000-worked-for-graphlet-and-have-research-skill)
  * [Example 6. Giving a person P, among all his direct friends and friends' friends who have programming skill, what are the top 5 other skills that most of these people have?](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-6-giving-a-person-p-among-all-his-direct-friends-and-friends-friends-who-have-programming-skill-what-are-the-top-5-other-skills-that-most-of-these-people-have)


In our ongoing efforts to refine and improve our products and tools, we are focusing on Insights as the tool of choice for building queries visually. We therefore are deprecating GraphStudio’s Build Graph Patterns (Visual Query Builder) as of v3.9.3. It will be discontinued in a future version of GraphStudio. Please visit our Insights documentation on [Widgets](https://docs.tigergraph.com/insights/4.2/widgets/) for graph and results visualization.   
---  
You have learnt all the basic concepts of the Visual Query Builder in the previous article. In this article we will walk you through building several visual patterns step by step, and then show you more graph analytics questions and how to solve them with visual patterns.‌
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_1_find_all_the_departments_with_male_employees)Example 1. Find all the departments with male employees
Click ![add pattern btn](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_pattern_btn.png)in the pattern list pattern, input the pattern name, and click ![add btn](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add-btn.png):
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvvvsnl5eksscgabgze demo 2 name](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvvvsnl5eksscgabgze_demo_2_name.png)
Click![add vertex type](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_vertex_type.png)in the toolbar to add a vertex pattern:
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvvxrsv4oqboqfdo5rn add 1st vertex pattern](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvvxrsv4oqboqfdo5rn_add-1st-vertex-pattern.png)
In the config panel, change the vertex type to be department, and put it in result:
![edit vertex pattern](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit-vertex-pattern.png)
Confirm the change by clicking ![confirm](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/confirm.png):
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvvxyennhcuze3pjgew changed to department](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvvxyennhcuze3pjgew_changed-to-department.png)
Click![add vertex type](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_vertex_type.png)in the toolbar to add another vertex pattern:
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvvyo9rsvkzoxl5ti45 2nd vertex pattern](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvvyo9rsvkzoxl5ti45_2nd-vertex-pattern.png)
Expand the Filter section in the config panel:
![open filter](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/open-filter.png)
Click![add button](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_button.png)to add a filter:
![add filter](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add-filter.png)
Edit the filter to be **(gender == "male")** :
![edit filter](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit-filter.png)
Confirm the change:
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvvaran9ybyvmp5ddmo apply filter](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvvaran9ybyvmp5ddmo_apply-filter.png)
Click![add edge type](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_edge_type.png)in the toolbar, then click the person vertex pattern in the working panel:
![click person vp](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/click-person-vp.png)
Then click department vertex pattern in the working panel to create an edge pattern between the two vertex patterns:
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvwcirpqnzwxjjmibcm click dep vp](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvwcirpqnzwxjjmibcm_click-dep-vp.png)
In the config panel, change the edge type to be work_in:
![edit etype](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit-etype.png)
Apply the change, and drag the person vertex pattern to a better position:
![assets lhvjxin4 6ba0t qmu lvvuteg9eqbxemig3sx lvwcxjavy9gzmh4fyzv apply etype change](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvwcxjavy9gzmh4fyzv_apply-etype-change.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/save_btn.png) in the toolbar to save the pattern, and click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/start-loading-button.png) in the toolbar to run the pattern:assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvwdbsyr4slvpf3q_x3_run-pattern.png[image]
You can also try to output the entire matched subgraphs. Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) in the toolbar to enter output toggle mode, then click the person vertex pattern and the work_in edge pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvwe_5_izo_dqy6pq3s_toggle-output.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) in the toolbar again to exit output toggle mode, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/start-loading-button.png) to run the pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvvuteg9eqbxemig3sx_-lvwf5sghnsn1ueleppj_pattern-result-1.png)
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#_example_2_find_all_such_people_a_b_c_a_and_b_are_friends_a_and_c_are_friends_and_b_manages_c)Example 2. Find all such people A, B, C: A and B are friends, A and C are friends, and B manages C.
Create a new visual pattern named FriendsManagerABC.
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/schema%20\(1\)%20\(1\).png) in the console panel to switch to graph schema:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwkwq25sm1gxtjubld_schema-in-pattern.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/pick-btn.png) in the toolbar, then click the friend edge type in the graph schema:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwlwh76dzytgclrkor_pick-edge.png)
An edge pattern is added into the working panel:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwo0h98unajvnqwuia_friend-1.png)
Similarly, use ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/pick-btn.png) to add another friend edge pattern and a manage edge pattern into the working panel:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwofvai82aycjxsbyj_edge-3.png)
Adjust the vertex patterns' positions:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwomds8bycwkyyqie8_move-position.png)
Hold Shift key and choose the two vertex patterns on the left, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/merge-btn.png) in the toolbar to merge them together:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwodylbzk0sgn7ttot_merge-1st.png)
Then, merge the top two vertex patterns:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwojoequux6ziyicjf_merge-2nd.png)
Then, merge the right two vertex patterns:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwooxl8ofw6hod2te2_merge-3rd.png)
Now you have a triangle visual pattern representing the three people relationship!
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwoyw8xb-i3gb6ri-b_after-merge.png)
Now, click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) in the toolbar and put all the vertex patterns and edge patterns into result:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwfa_jg53mztz9qs87_-lvwp9hypyw9tbbpbkii_add-output.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) again to exit output toggle mode, click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/save_btn.png) to save the pattern, and click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/start-loading-button.png) to run the pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/run_triangle.png)
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-3-find-the-top-2-cities-where-the-most-number-of-companies-of-an-industry-are-located-in)Example 3. Find the top 2 cities where the most number of companies of an industry are located in.
Create a new visual pattern named IndustryCenterCity. Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/schema%20copy.png) in the console panel to switch to graph schema.
Use ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/pick-btn.png) in the toolbar to pick the company_locate_at edge type and belong_to edge type in graph schema:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/pick-edges.png)
Use Shift key to select the two company vertex patterns, and click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/merge-btn.png) to merge them into one. Drag the vertex patterns to make their positions look good:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwpsgl7org8uej3dw2_-lvww7qmtmgs2f_oiha2_merge-and-reposition.png)
Click the industry vertex pattern, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit.png) in the toolbar (or double click the industry vertex pattern), now you are in edit mode:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-edit-industry_3.3.png)
Change the vertices to be from parameter, and give a parameter name **ind**. This annotates the industry as an input vertex set when running the pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/change-industry.png)
Confirm the change, and notice there is an id condition on the industry vertex pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwpsgl7org8uej3dw2_-lvwfkjmr-j8e5ccnisg_apply-change.png)
Click the company vertex pattern, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit.png) in the toolbar, and change the Name to **C** :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-edit-company_3.3.png)
Confirm the change, and the label of company vertex pattern becomes **company as C** :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwpsgl7org8uej3dw2_-lvwgylchchachlxgiiu_confirm-edit-company.png)
Click the city vertex pattern, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/edit.png) in the toolbar:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwpsgl7org8uej3dw2_-lvwmigwtcze0gpznc2s_1-edit-city.png)
Expand the Aggregation section in the config panel, and add an aggregation:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-2-add-attachment_3.3.png)
Confirm the change:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-3-confirm-attachment_3.3.png)
Expand the Order section in the config panel, and add a descending order of aggregation result **countCompany** :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/4-add-order.png)
Confirm the change:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-5-confirm-order_3.3.png)
Expand the Limit section in the config panel, check the use limit checkbox, and change limit to 2:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/6-add-limit.png)
Confirm the change:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-7-confirm-limit_3.3.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) , then click the city vertex pattern, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/output-btn.png) again to exit output toggle mode, click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/save_btn.png) to save the pattern:
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/start-loading-button.png) . Because the pattern has one input parameter **ind** , the Pattern parameters section in the pattern list panel expands:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/9-run.png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/add_button.png) to add one industry vertex, and input "big data" for vertex id, then click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/run-pattern.png) :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwmzsftkfmajvmccm0_-lvwnopp6-_3mp6ndy4b_10-big-data.png)
Change the industry vertex id to be "internet", and run the pattern again:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwmzsftkfmajvmccm0_-lvwnrxlwx4u7ivox3y1_11-internet.png)
Again, you can choose to output everything in the matched subgraphs:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example3-12-full_3.3.png)
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-4-find-the-people-who-either-were-born-in-redwood-city-or-attended-stanford-university-but-didnt-work-for-hooli)Example 4. Find the people who either were born in Redwood City or attended Stanford university, but didn’t work for Hooli.
Expand Graph patterns section in the pattern list panel, then create a new visual pattern named SearchPeople. Create the following visual pattern following similar steps as above:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwnvp3dgnx-vok3v4n_-lvwq7ggctwogkilkkjj_widget-base%20\(1\).png)
Click ![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/widget-btn.png) in the toolbar, and choose **Union** :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/1-union.png)
Click the left two person vertex patterns respectively to add the union widget:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwnvp3dgnx-vok3v4n_-lvwspew3aygvwqpnad8_2-union.png)
Click​![image](https://firebasestorage.googleapis.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LHvjxIN4__6bA0T-QmU%2F-LvhbTLpvz8Pj5ZBuKlD%2F-Lvly1LBfdXQxZvwuE-u%2Fwidget-btn.png?alt=media&token=c8f287b1-a243-4c7b-b648-a91a6c12b48b)in the toolbar, and choose **Subtract** :
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/3-subtract.png)
Click the output person vertex pattern of the union widget, then click the right person vertex pattern, a subtract widget is added into the visual pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwnvp3dgnx-vok3v4n_-lvwsveopdlwkrij6849_4-subtract.png)
Put the output person vertex pattern of the subtract widget into result:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwnvp3dgnx-vok3v4n_-lvwszgkk0ui6kghylhv_5-output.png)
Save and run the pattern:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwnvp3dgnx-vok3v4n_-lvwt1jugq5zvf-7iqdh_6-result.png)
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-5-find-all-the-people-that-were-born-in-a-city-with-population-no-more-than-100000-worked-for-graphlet-and-have-research-skill)Example 5. Find all the people that were born in a city with population no more than 100,000, worked for Graphlet, and have research skill.
A snowflake-like visual pattern is commonly used in this type of searching problems:
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/assets_-lhvjxin4__6ba0t-qmu_-lvwvacebmsfya4_x1e0_-lvwv_2yllbcss4fur5e_people-search-2.png)
## [](https://docs.tigergraph.com/gui/3.11/graphstudio/build-graph-patterns/visual-pattern-examples#example-6-giving-a-person-p-among-all-his-direct-friends-and-friends-friends-who-have-programming-skill-what-are-the-top-5-other-skills-that-most-of-these-people-have)Example 6. Giving a person P, among all his direct friends and friends' friends who have programming skill, what are the top 5 other skills that most of these people have?
First, we get the friends and friends' friends of P. We use the programming skill to filter these friends, then we find the other skills that these people have. Then we count the number of people having these skills, and choose the top 5 skills as the result.
![image](https://docs.tigergraph.com/gui/3.11/graphstudio/_images/vqb-example6-top-skills_3.3.png)
3 Twin Dolphin Drive, Ste 225 Redwood City, CA 94065 
Copyright © 2025 TigerGraph
  * ## Resources
    * [Support](https://www.tigergraph.com/support/)
    * [Community](https://community.tigergraph.com/)
    * [Developer Site](https://dev.tigergraph.com/)
    * [Test Drive](https://testdrive.tigergraph.com/)
  * ## Social
    * [Linkedin](https://www.linkedin.com/company/tigergraph/)
    * [Facebook](https://www.facebook.com/TigerGraphDB/)
    * [Twitter](https://twitter.com/tigergraphdb)
  * ## Legal
    * [Privacy Policy](https://www.tigergraph.com/privacy-policy/)
    * [Terms of Use](https://www.tigergraph.com/terms/)
    * [Sitemap](https://docs.tigergraph.com/sitemap.xml)


