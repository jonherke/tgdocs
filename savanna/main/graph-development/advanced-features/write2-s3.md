![TigerGraph Logo](https://www.tigergraph.com/wp-content/uploads/2020/05/TG_LOGO.svg) [Docs](https://docs.tigergraph.com/home)
Page 1[Prev](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)[Next](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)
Search by [Algolia](https://www.algolia.com/docsearch)
[Products](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)
TigerGraph Savanna
[TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/) [(_TigerGraph Cloud Classic_)](https://docs.tigergraph.com/cloud/main/start/overview)
TigerGraph Server
[TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
TigerGraph Suite
[GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Insights](https://docs.tigergraph.com/insights/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web)
Query Languages
[GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql)
AI & Graph Intelligence
[Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/) [Hybrid Graph+Vector Search](https://docs.tigergraph.com/gsql-ref/current/vector/)
Connectors and APIs
[Data Connectors](https://docs.tigergraph.com/tigergraph-server/current/data-loading) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/) [JDBC Driver](https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver)
Legacy Documentation
[ Legacy Documentation ](https://docs-legacy.tigergraph.com)
[Resources](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)
[Developer Site](https://dev.tigergraph.com/) [Community Forum](https://community.tigergraph.com/) [Knowledge Base](https://tigergraph.freshdesk.com/support/solutions)
[Download](https://dl.tigergraph.com)
[ TG Savanna](https://savanna.tgcloud.io)
### [TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/)
  *     * [Introduction](https://docs.tigergraph.com/savanna/main/overview/)
      * [Overview](https://docs.tigergraph.com/savanna/main/overview/overview)
      * [Compare Different Offerings](https://docs.tigergraph.com/savanna/main/overview/comparison_table)
      * [Release Notes](https://docs.tigergraph.com/savanna/main/overview/release-notes)
      * [Pricing](https://docs.tigergraph.com/savanna/main/overview/pricing)
      * [Cost Estimation](https://docs.tigergraph.com/savanna/main/overview/cost-estimation)
  *     * [Get Started](https://docs.tigergraph.com/savanna/main/get-started/)
      * [Sign Up](https://docs.tigergraph.com/savanna/main/get-started/how2-signup)
      * [Log In](https://docs.tigergraph.com/savanna/main/get-started/how2-login)
  *     * [Workgroups and Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/)
      * [Workgroups](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/workgroup)
        * [Create Workgroup](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-create-a-workgroup)
        * [Permissions](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-workgroup-access)
        * [Monitor](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/monitor-workspaces)
        * [Backup and Restore](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/backup-and-restore)
        * [Network Access](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-config-network-access)
      * [Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/workspace)
        * [Create Workspace](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/how2-create-a-workspace)
        * [Workspace Size](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/workspace-size)
        * [Workspace Settings](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/settings)
        * [RW/RO Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/readwrite-readonly)
        * [Expand and Shrink](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/expansion-shrink)
        * [Schedule](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/schedule)
        * [Connect via APIs](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/connect-via-api)
  *     * [Graph Development](https://docs.tigergraph.com/savanna/main/graph-development/)
      * [Load Data](https://docs.tigergraph.com/savanna/main/graph-development/load-data/)
        * [Load from Local File](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-local)
        * [Load from AWS S3](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-s3)
        * [Load from GCS](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-gcs)
        * [Load from Blob](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-blob)
        * [Token Function](https://docs.tigergraph.com/savanna/main/graph-development/load-data/token-function)
        * [Load from Other Sources](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-other-sources)
          * [JDBC Spark Connection](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)
      * [Design Schema](https://docs.tigergraph.com/savanna/main/graph-development/design-schema/)
      * [GSQL Editor](https://docs.tigergraph.com/savanna/main/graph-development/gsql-editor/)
        * [Edit Query](https://docs.tigergraph.com/savanna/main/graph-development/gsql-editor/how2-edit-gsql-query)
      * [Explore Graph](https://docs.tigergraph.com/savanna/main/graph-development/explore-graph/)
        * [Pattern Search](https://docs.tigergraph.com/savanna/main/graph-development/explore-graph/how2-use-pattern-search)
      * [Advanced Features](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/)
        * [Export Data to S3](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)
        * [Configure UDF](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/configure-udf)
  *     * [REST API (Preview)](https://docs.tigergraph.com/savanna/main/rest-api/)
      * [Authentication](https://docs.tigergraph.com/savanna/main/rest-api/authentication)
      * [Endpoints](https://docs.tigergraph.com/savanna/main/rest-api/endpoints)
      * [Definitions](https://docs.tigergraph.com/savanna/main/rest-api/definitions)
  *     * [Marketplace](https://docs.tigergraph.com/savanna/main/integrations/)
      * [Solutions](https://docs.tigergraph.com/savanna/main/integrations/solutions)
      * [Add-Ons](https://docs.tigergraph.com/savanna/main/integrations/add-ons)
        * [GraphStudio](https://docs.tigergraph.com/savanna/main/integrations/graphstudio)
        * [Insights](https://docs.tigergraph.com/savanna/main/integrations/insights)
        * [GraphQL](https://docs.tigergraph.com/savanna/main/integrations/graphql)
  *     * [Administration](https://docs.tigergraph.com/savanna/main/administration/)
      * [Invite Users](https://docs.tigergraph.com/savanna/main/administration/how2-invite-users)
      * [Access Management](https://docs.tigergraph.com/savanna/main/administration/how2-access-mgnt)
      * [Security](https://docs.tigergraph.com/savanna/main/administration/security/)
        * [IDP integration with SSO](https://docs.tigergraph.com/savanna/main/administration/security/idp)
        * [Password Policy](https://docs.tigergraph.com/savanna/main/administration/security/password-policy)
      * [Billing](https://docs.tigergraph.com/savanna/main/administration/billing/)
        * [Payment Method](https://docs.tigergraph.com/savanna/main/administration/billing/payment-methods)
        * [Invoices](https://docs.tigergraph.com/savanna/main/administration/billing/invoices)
      * [Settings](https://docs.tigergraph.com/savanna/main/administration/settings/)
        * [Organization Management](https://docs.tigergraph.com/savanna/main/administration/settings/how2-use-organization-mgnt)
        * [API Keys](https://docs.tigergraph.com/savanna/main/administration/settings/how2-create-api-key)
  *     * [Resources](https://docs.tigergraph.com/savanna/main/resources/)
      * [Amazon Web Services (AWS)](https://docs.tigergraph.com/savanna/main/resources/aws)
      * [Google Cloud Platform (GCP)](https://docs.tigergraph.com/savanna/main/resources/gcp)
      * [Microsoft Azure](https://docs.tigergraph.com/savanna/main/resources/azure)
      * [Glossary](https://docs.tigergraph.com/savanna/main/resources/glossary)
      * [Support](https://docs.tigergraph.com/savanna/main/resources/support)
      * [TigerGraph Savanna FAQs](https://docs.tigergraph.com/savanna/main/resources/faqs)
      * [Subscription Plans and Quota Policy](https://docs.tigergraph.com/savanna/main/resources/quota_policy)


TigerGraph Savanna
[Fully-Managed: Savanna](https://docs.tigergraph.com/savanna/main/overview/)
[Self-Managed: TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
[Install](https://docs.tigergraph.com/tigergraph-server/current/getting-started/) [Manage](https://docs.tigergraph.com/tigergraph-server/current/system-management/)
Tutorials & Guides
[GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/GSQL.md) [OpenCypher in GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/Cypher.md) [Hybrid Vector Search](https://github.com/tigergraph/ecosys/blob/master/tutorials/VectorSearch.md)
Reference Manuals
[GSQL](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql/) [Vector](https://docs.tigergraph.com/gsql-ref/current/vector/) [REST APIs](https://docs.tigergraph.com/tigergraph-server/current/api/) [Configuration Parameters](https://docs.tigergraph.com/tigergraph-server/current/reference/configuration-parameters)
Visual Tools
[Develop: GraphStudio](https://docs.tigergraph.com/gui/4.2/intro/) [Administer: Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Visualize: Insights](https://docs.tigergraph.com/insights/4.2/intro/)
AI & Data Science
[Graph Algorithms](https://docs.tigergraph.com/graph-ml/3.10/intro/) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraphX](https://github.com/tigergraph/ecosys/blob/master/tutorials/TigerGraphX.md) [ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/) [CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/tigergraph-server/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/tigergraph-server/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/tigergraph-server/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/tigergraph-server/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/tigergraph-server/3.6/intro/)
  * [GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gsql-ref/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gsql-ref/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gsql-ref/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gsql-ref/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gsql-ref/3.6/intro/intro)
  * [TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/)
  * [GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gui/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gui/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gui/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gui/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gui/3.6/graphstudio/overview)
  * [Insights](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/insights/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/insights/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/insights/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/insights/3.9/intro/)
  * [Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/)
    * [3.10](https://docs.tigergraph.com/graph-ml/3.10/intro/)
  * [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.8](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.7](https://docs.tigergraph.com/pytigergraph/1.7/intro/)
    * [1.6](https://docs.tigergraph.com/pytigergraph/1.6/intro/)
  * [TigerGraph ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
    * [1.4](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
  * [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/)
    * [3.9](https://docs.tigergraph.com/graphql/3.9/)
  * [TigerGraph CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
    * [main](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph Cloud Classic](https://docs.tigergraph.com/cloud/main/start/overview)


[](https://docs.tigergraph.com/home/)
  * [TigerGraph Savanna default](https://docs.tigergraph.com/savanna/main/overview/)
  * [Graph Development](https://docs.tigergraph.com/savanna/main/graph-development/)
  * [Advanced Features](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/)
  * [Export Data to S3](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)


[Edit this Page](https://github.com/tigergraph/cloud-docs/edit/main/modules/savanna/modules/graph-development/pages/advanced-features/write2-s3.adoc)
### Contents
  * [Prerequisites](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_prerequisites)
  * [Methods to Export Data to S3](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_methods_to_export_data_to_s3)
  * [Method 1: Using GSQL Editor](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_1_using_gsql_editor)
  * [Method 2: Via API](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_2_via_api)
  * [Method 3: Using Graph Admin](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_3_using_graph_admin)
  * [Example](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_example)
  * [Troubleshooting](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_troubleshooting)


# Export Data to S3
### Contents
  * [Prerequisites](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_prerequisites)
  * [Methods to Export Data to S3](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_methods_to_export_data_to_s3)
  * [Method 1: Using GSQL Editor](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_1_using_gsql_editor)
  * [Method 2: Via API](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_2_via_api)
  * [Method 3: Using Graph Admin](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_3_using_graph_admin)
  * [Example](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_example)
  * [Troubleshooting](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_troubleshooting)


Exporting data to Amazon S3 from TigerGraph Savanna allows you to export your graph data efficiently. This feature is particularly useful for backup, data sharing, and integration with other AWS services.
This documentation have been updated to include all three methods for writing data to S3, providing comprehensive guidance for users.
## [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_prerequisites)Prerequisites
Before you begin, ensure you have the following:
  * An active TigerGraph Savanna workspace.
  * An AWS account with access to S3.
  * Appropriate IAM permissions to write to the S3 bucket.


## [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_methods_to_export_data_to_s3)Methods to Export Data to S3
There are three main methods to write data to S3 from TigerGraph Savanna:
  1. Using GSQL Editor
  2. Via API
  3. Using Graph Admin


### [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_1_using_gsql_editor)Method 1: Using GSQL Editor
1) Set up the TigerGraph Savanna workspace and ensure it is running.
2) Open the [GSQL Editor](https://docs.tigergraph.com/savanna/main/graph-development/gsql-editor/) in TigerGraph Savanna.
3) **Configure AWS Credentials** :
Set your AWS credentials and query timeout in the GSQL Editor.
```
set query_timeout=7200000;
set s3_aws_access_key_id = <AWS_KEY_ID>;
set s3_aws_secret_access_key = <AWS_ACCESS_KEY>;
sql![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

4) **Create and Run the Query** :
Create a query to write data to S3 and run it.
```
CREATE QUERY print_to_csv_s3() FOR GRAPH ldbc_snb {
 FILE f_hello ("s3://<s3_path>/" + "f_hello.csv");
 print "f_hello", "world\n" TO_CSV f_hello;
}
run query print_to_csv_s3();
sql![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Replace `<AWS_KEY_ID>`, `<AWS_ACCESS_KEY>`, and `<s3_path>` with your actual AWS credentials and S3 path.
### [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_2_via_api)Method 2: Via API
1) Set up the TigerGraph Savanna workspace and ensure it is running.
2) **Send a GET Request** :
Use the following curl command to run the query via API.
```
curl -X GET \
-H "GSQL-S3AWSAccessKeyId: $AWS_KEY_ID" \
-H "GSQL-S3AWSSecretAccessKey: $AWS_ACCESS_KEY" \
-H "GSQL-TIMEOUT: 7200000" \
https://$HOST_ID.i.tgcloud.io/query/$GRAPH_NAME/$QUERY_NAME
shell![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Replace `$AWS_KEY_ID` and `$AWS_ACCESS_KEY` with your actual AWS credentials, `$HOST_ID` with your TigerGraph Savanna host ID, `$GRAPH_NAME` with your graph name, and `$QUERY_NAME` with your query name.
### [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_method_3_using_graph_admin)Method 3: Using Graph Admin
1) Set up the TigerGraph Savanna workspace and ensure it is running.
2) Edit the workspace by clicking the **…​** button of your selected workspace.
3) Navigate to the **Graph Admin** tab.
4) Select the **GPE** section, then configure the following entries:
![config s3](https://docs.tigergraph.com/savanna/main/graph-development/_images/config-s3.png)
  * **S3 AWS Access Key ID For Query Output** : Your AWS Access Key ID.
  * **S3 AWS Secret Access Key For Query Output** : Your AWS Secret Access Key.


5) Click **Save** to apply the changes.
It is recommended to always set up a default s3 access key ID and secret access key in the Graph Admin. This will be the fallback option in case the query does not have the s3 access key ID and secret access key set.  
---  
Update Graph Admin configurations may require restart of certain services, which may impact the running queries/loading jobs/schema changes. Apply changes with caution.  
---  
### [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_example)Example
Here’s an example of writing data to S3 using the GSQL Editor:
```
set query_timeout=7200000;
set s3_aws_access_key_id = "your_aws_access_key_id";
set s3_aws_secret_access_key = "your_aws_secret_access_key";
CREATE QUERY print_to_csv_s3() FOR GRAPH ldbc_snb {
  FILE f_hello ("s3://your_s3_bucket/your_path/" + "f_hello.csv");
  print "f_hello", "world\n" TO_CSV f_hello;
}
run query print_to_csv_s3();
sql![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

## [](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3#_troubleshooting)Troubleshooting
  * **Permission Issues** : Ensure that the IAM role or user has the necessary permissions (`s3:PutObject`, `s3:ListBucket`).
  * **Network Issues** : Verify that your TigerGraph workspace can reach the S3 endpoint.
  * **Credential Issues** : Ensure that the correct credentials are provided either via GSQL Editor, API headers, or Graph Admin configurations.


For more detailed troubleshooting, refer to the [AWS S3 Documentation](<https://docs.aws.amazon.com/s3/index.html>).
3 Twin Dolphin Drive, Ste 225 Redwood City, CA 94065 
Copyright © 2025 TigerGraph
  * ## Resources
    * [Support](https://www.tigergraph.com/support/)
    * [Community](https://community.tigergraph.com/)
    * [Developer Site](https://dev.tigergraph.com/)
    * [Test Drive](https://testdrive.tigergraph.com/)
  * ## Social
    * [Linkedin](https://www.linkedin.com/company/tigergraph/)
    * [Facebook](https://www.facebook.com/TigerGraphDB/)
    * [Twitter](https://twitter.com/tigergraphdb)
  * ## Legal
    * [Privacy Policy](https://www.tigergraph.com/privacy-policy/)
    * [Terms of Use](https://www.tigergraph.com/terms/)
    * [Sitemap](https://docs.tigergraph.com/sitemap.xml)


