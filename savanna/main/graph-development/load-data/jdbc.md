![TigerGraph Logo](https://www.tigergraph.com/wp-content/uploads/2020/05/TG_LOGO.svg) [Docs](https://docs.tigergraph.com/home)
Page 1[Prev](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)[Next](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)
Search by [Algolia](https://www.algolia.com/docsearch)
[Products](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)
TigerGraph Savanna
[TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/) [(_TigerGraph Cloud Classic_)](https://docs.tigergraph.com/cloud/main/start/overview)
TigerGraph Server
[TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
TigerGraph Suite
[GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Insights](https://docs.tigergraph.com/insights/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web)
Query Languages
[GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [GSQL Web Shell](https://docs.tigergraph.com/tigergraph-server/current/gsql-shell/web) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql)
AI & Graph Intelligence
[Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/) [Hybrid Graph+Vector Search](https://docs.tigergraph.com/gsql-ref/current/vector/)
Connectors and APIs
[Data Connectors](https://docs.tigergraph.com/tigergraph-server/current/data-loading) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/) [JDBC Driver](https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver)
Legacy Documentation
[ Legacy Documentation ](https://docs-legacy.tigergraph.com)
[Resources](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)
[Developer Site](https://dev.tigergraph.com/) [Community Forum](https://community.tigergraph.com/) [Knowledge Base](https://tigergraph.freshdesk.com/support/solutions)
[Download](https://dl.tigergraph.com)
[ TG Savanna](https://savanna.tgcloud.io)
### [TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/)
  *     * [Introduction](https://docs.tigergraph.com/savanna/main/overview/)
      * [Overview](https://docs.tigergraph.com/savanna/main/overview/overview)
      * [Compare Different Offerings](https://docs.tigergraph.com/savanna/main/overview/comparison_table)
      * [Release Notes](https://docs.tigergraph.com/savanna/main/overview/release-notes)
      * [Pricing](https://docs.tigergraph.com/savanna/main/overview/pricing)
      * [Cost Estimation](https://docs.tigergraph.com/savanna/main/overview/cost-estimation)
  *     * [Get Started](https://docs.tigergraph.com/savanna/main/get-started/)
      * [Sign Up](https://docs.tigergraph.com/savanna/main/get-started/how2-signup)
      * [Log In](https://docs.tigergraph.com/savanna/main/get-started/how2-login)
  *     * [Workgroups and Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/)
      * [Workgroups](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/workgroup)
        * [Create Workgroup](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-create-a-workgroup)
        * [Permissions](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-workgroup-access)
        * [Monitor](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/monitor-workspaces)
        * [Backup and Restore](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/backup-and-restore)
        * [Network Access](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workgroups/how2-config-network-access)
      * [Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/workspace)
        * [Create Workspace](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/how2-create-a-workspace)
        * [Workspace Size](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/workspace-size)
        * [Workspace Settings](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/settings)
        * [RW/RO Workspaces](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/readwrite-readonly)
        * [Expand and Shrink](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/expansion-shrink)
        * [Schedule](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/schedule)
        * [Connect via APIs](https://docs.tigergraph.com/savanna/main/workgroup-workspace/workspaces/connect-via-api)
  *     * [Graph Development](https://docs.tigergraph.com/savanna/main/graph-development/)
      * [Load Data](https://docs.tigergraph.com/savanna/main/graph-development/load-data/)
        * [Load from Local File](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-local)
        * [Load from AWS S3](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-s3)
        * [Load from GCS](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-gcs)
        * [Load from Blob](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-blob)
        * [Token Function](https://docs.tigergraph.com/savanna/main/graph-development/load-data/token-function)
        * [Load from Other Sources](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-other-sources)
          * [JDBC Spark Connection](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)
      * [Design Schema](https://docs.tigergraph.com/savanna/main/graph-development/design-schema/)
      * [GSQL Editor](https://docs.tigergraph.com/savanna/main/graph-development/gsql-editor/)
        * [Edit Query](https://docs.tigergraph.com/savanna/main/graph-development/gsql-editor/how2-edit-gsql-query)
      * [Explore Graph](https://docs.tigergraph.com/savanna/main/graph-development/explore-graph/)
        * [Pattern Search](https://docs.tigergraph.com/savanna/main/graph-development/explore-graph/how2-use-pattern-search)
      * [Advanced Features](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/)
        * [Export Data to S3](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/write2-s3)
        * [Configure UDF](https://docs.tigergraph.com/savanna/main/graph-development/advanced-features/configure-udf)
  *     * [REST API (Preview)](https://docs.tigergraph.com/savanna/main/rest-api/)
      * [Authentication](https://docs.tigergraph.com/savanna/main/rest-api/authentication)
      * [Endpoints](https://docs.tigergraph.com/savanna/main/rest-api/endpoints)
      * [Definitions](https://docs.tigergraph.com/savanna/main/rest-api/definitions)
  *     * [Marketplace](https://docs.tigergraph.com/savanna/main/integrations/)
      * [Solutions](https://docs.tigergraph.com/savanna/main/integrations/solutions)
      * [Add-Ons](https://docs.tigergraph.com/savanna/main/integrations/add-ons)
        * [GraphStudio](https://docs.tigergraph.com/savanna/main/integrations/graphstudio)
        * [Insights](https://docs.tigergraph.com/savanna/main/integrations/insights)
        * [GraphQL](https://docs.tigergraph.com/savanna/main/integrations/graphql)
  *     * [Administration](https://docs.tigergraph.com/savanna/main/administration/)
      * [Invite Users](https://docs.tigergraph.com/savanna/main/administration/how2-invite-users)
      * [Access Management](https://docs.tigergraph.com/savanna/main/administration/how2-access-mgnt)
      * [Security](https://docs.tigergraph.com/savanna/main/administration/security/)
        * [IDP integration with SSO](https://docs.tigergraph.com/savanna/main/administration/security/idp)
        * [Password Policy](https://docs.tigergraph.com/savanna/main/administration/security/password-policy)
      * [Billing](https://docs.tigergraph.com/savanna/main/administration/billing/)
        * [Payment Method](https://docs.tigergraph.com/savanna/main/administration/billing/payment-methods)
        * [Invoices](https://docs.tigergraph.com/savanna/main/administration/billing/invoices)
      * [Settings](https://docs.tigergraph.com/savanna/main/administration/settings/)
        * [Organization Management](https://docs.tigergraph.com/savanna/main/administration/settings/how2-use-organization-mgnt)
        * [API Keys](https://docs.tigergraph.com/savanna/main/administration/settings/how2-create-api-key)
  *     * [Resources](https://docs.tigergraph.com/savanna/main/resources/)
      * [Amazon Web Services (AWS)](https://docs.tigergraph.com/savanna/main/resources/aws)
      * [Google Cloud Platform (GCP)](https://docs.tigergraph.com/savanna/main/resources/gcp)
      * [Microsoft Azure](https://docs.tigergraph.com/savanna/main/resources/azure)
      * [Glossary](https://docs.tigergraph.com/savanna/main/resources/glossary)
      * [Support](https://docs.tigergraph.com/savanna/main/resources/support)
      * [TigerGraph Savanna FAQs](https://docs.tigergraph.com/savanna/main/resources/faqs)
      * [Subscription Plans and Quota Policy](https://docs.tigergraph.com/savanna/main/resources/quota_policy)


TigerGraph Savanna
[Fully-Managed: Savanna](https://docs.tigergraph.com/savanna/main/overview/)
[Self-Managed: TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
[Install](https://docs.tigergraph.com/tigergraph-server/current/getting-started/) [Manage](https://docs.tigergraph.com/tigergraph-server/current/system-management/)
Tutorials & Guides
[GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/GSQL.md) [OpenCypher in GSQL](https://github.com/tigergraph/ecosys/blob/master/tutorials/Cypher.md) [Hybrid Vector Search](https://github.com/tigergraph/ecosys/blob/master/tutorials/VectorSearch.md)
Reference Manuals
[GSQL](https://docs.tigergraph.com/gsql-ref/4.2/intro/) [OpenCypher](https://docs.tigergraph.com/gsql-ref/current/opencypher-in-gsql/) [Vector](https://docs.tigergraph.com/gsql-ref/current/vector/) [REST APIs](https://docs.tigergraph.com/tigergraph-server/current/api/) [Configuration Parameters](https://docs.tigergraph.com/tigergraph-server/current/reference/configuration-parameters)
Visual Tools
[Develop: GraphStudio](https://docs.tigergraph.com/gui/4.2/intro/) [Administer: Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/) [Visualize: Insights](https://docs.tigergraph.com/insights/4.2/intro/)
AI & Data Science
[Graph Algorithms](https://docs.tigergraph.com/graph-ml/3.10/intro/) [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/) [TigerGraphX](https://github.com/tigergraph/ecosys/blob/master/tutorials/TigerGraphX.md) [ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/) [CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph DB](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/tigergraph-server/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/tigergraph-server/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/tigergraph-server/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/tigergraph-server/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/tigergraph-server/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/tigergraph-server/3.6/intro/)
  * [GSQL Language Reference](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gsql-ref/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gsql-ref/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gsql-ref/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gsql-ref/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gsql-ref/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gsql-ref/3.6/intro/intro)
  * [TigerGraph Savanna](https://docs.tigergraph.com/savanna/main/overview/)
  * [GraphStudio and Admin Portal](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/gui/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/gui/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/gui/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/gui/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/gui/3.9/intro/)
    * [3.6](https://docs.tigergraph.com/gui/3.6/graphstudio/overview)
  * [Insights](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.2 Pre](https://docs.tigergraph.com/insights/4.2/intro/)
    * [4.1](https://docs.tigergraph.com/insights/4.1/intro/)
    * [3.11](https://docs.tigergraph.com/insights/3.11/intro/)
    * [3.10](https://docs.tigergraph.com/insights/3.10/intro/)
    * [3.9](https://docs.tigergraph.com/insights/3.9/intro/)
  * [Graph Data Science Library](https://docs.tigergraph.com/graph-ml/3.10/intro/)
    * [3.10](https://docs.tigergraph.com/graph-ml/3.10/intro/)
  * [pyTigerGraph](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.8](https://docs.tigergraph.com/pytigergraph/1.8/intro/)
    * [1.7](https://docs.tigergraph.com/pytigergraph/1.7/intro/)
    * [1.6](https://docs.tigergraph.com/pytigergraph/1.6/intro/)
  * [TigerGraph ML Workbench](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
    * [1.4](https://docs.tigergraph.com/ml-workbench/1.4/intro/)
  * [TigerGraph GraphQL Service](https://docs.tigergraph.com/graphql/3.9/)
    * [3.9](https://docs.tigergraph.com/graphql/3.9/)
  * [TigerGraph CoPilot](https://docs.tigergraph.com/tg-copilot/intro/)
    * [main](https://docs.tigergraph.com/tg-copilot/intro/)
  * [TigerGraph Cloud Classic](https://docs.tigergraph.com/cloud/main/start/overview)


[](https://docs.tigergraph.com/home/)
  * [TigerGraph Savanna default](https://docs.tigergraph.com/savanna/main/overview/)
  * [Graph Development](https://docs.tigergraph.com/savanna/main/graph-development/)
  * [Load Data](https://docs.tigergraph.com/savanna/main/graph-development/load-data/)
  * [Load from Other Sources](https://docs.tigergraph.com/savanna/main/graph-development/load-data/load-from-other-sources)
  * [JDBC Spark Connection](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc)


[Edit this Page](https://github.com/tigergraph/cloud-docs/edit/main/modules/savanna/modules/graph-development/pages/load-data/jdbc.adoc)
### Contents
  * [Prerequisites](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_prerequisites)
  * [Set up SSL connection](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_set_up_ssl_connection)
  * [Create the secret key on your TigerGraph instance](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_the_secret_key_on_your_tigergraph_instance)
  * [Create and run the PySpark script](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_and_run_the_pyspark_script)


# JDBC Spark Connection
### Contents
  * [Prerequisites](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_prerequisites)
  * [Set up SSL connection](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_set_up_ssl_connection)
  * [Create the secret key on your TigerGraph instance](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_the_secret_key_on_your_tigergraph_instance)
  * [Create and run the PySpark script](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_and_run_the_pyspark_script)


An open-source solution exists for loading data into TigerGraph using JDBC and Spark. This guide will show you how to set up a connection to read data from PostgreSQL through PySpark and write the data to TigerGraph.
For large volumes of data with fault-tolerance, we recommend our Kafka-based streaming data connector.   
---  
This guide is written for Ubuntu 18.04.
## [](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_prerequisites)Prerequisites
First make sure you have current versions of Java, Python, and Spark on the machine that will be the Spark server.
```
$ sudo apt update
$ sudo apt-get -y install openjdk-8-jdk-headless
$ sudo apt install python3
$ wget https://downloads.apache.org/spark/spark-3.3.1/spark-3.3.1-bin-hadoop2.tgz
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Download the PostgreSQL JDBC driver.
```
$ wget https://jdbc.postgresql.org/download/postgresql-42.5.0.jar
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Download the TigerGraph JDBC driver.
```
$ wget https://repo1.maven.org/maven2/com/tigergraph/tigergraph-jdbc-driver/1.3.6/tigergraph-jdbc-driver-1.3.6.jar
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Copy both drivers into the `$SPARK_HOME/jars/` folder.
```
$ cp tigergraph-jdbc-driver-1.3.6.jar postgresql-42.5.0.jar $SPARK_HOME/jars
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

Test your Spark installation by running this command:
```
$ spark-submit --class org.apache.spark.examples.SparkPi spark/examples/jars/spark-examples_2.12-3.3.1.jar 10
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

## [](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_set_up_ssl_connection)Set up SSL connection
TigerGraph Savanna uses SSL connections, so we need to create the certificate for Spark to use.
For this step and other steps, you need your TigerGraph Savanna workspace URL, which can be found on the Clusters page. A typical cluster URL looks like `7c141e8c7669404f923623083ba01da9.i.tgcloud.io`.
```
$ echo | openssl s_client -host <your TigerGraph Savanna workspace URL> -port 443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' > ~/tgcloud.crt
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

This SSL certificate, a `.crt` file, cannot be used directly with the JDBC driver. Instead, you must use it to create a Java KeyStore (JKS) file using the `keytool` utility. Create a password and use it where the sample command below has the placeholder `<your password>`.
```
$ keytool -import -alias <your TigerGraph Savanna workspace URL> -file ~/tgcloud.crt -keystore ~/trust.jks -storepass <your password>
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

## [](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_the_secret_key_on_your_tigergraph_instance)Create the secret key on your TigerGraph instance
Go to [Admin Portal](https://docs.tigergraph.com/gui/4.2/admin-portal/overview), then on the sidebar, go to Management > Users.
Choose the graph you want to access. Create a secret key by following the instructions on the [Manage Secrets](https://docs.tigergraph.com/gui/4.2/admin-portal/management/user-management#manage-secrets) page.
Save the secret key separately on your server. This key will be your password to access the TigerGraph database.
## [](https://docs.tigergraph.com/savanna/main/graph-development/load-data/jdbc#_create_and_run_the_pyspark_script)Create and run the PySpark script
Create a PySpark script file using the following template. In this example, the file is named `postgres_to_tg.py`. You must decide how you want to map your source data to the graph. The template example loads data into a graph vertex type called Account. For more details on how to use the TigerGraph JDBC Connector, see the documentation at <https://github.com/tigergraph/ecosys/blob/master/tools/etl/tg-jdbc-driver/README.md>.
The last section of the file, the Loading to TigerGraph section, requires several parameters. Some are filled in already in the example, but others require your input.
  * `url`: Your TigerGraph Savanna workspace URL
  * `password`: Your secret key created with Admin Portal
  * `graph`: The graph for which you created the secret key
  * `truststore`: The JKS file you created previously
  * `trustStorePassword`: The JKS password


postgres_to_tg.py
```
from pyspark.sql import SparkSession

spark = SparkSession.builder \
.appName("Python Spark pg to TigerGraph") \
.config("spark.driver.extraClassPath", "/home/ubuntu/postgresql-42.5.0.jar:/home/ubuntu/tigergraph-jdbc-driver-1.3.6.jar") \
.getOrCreate()

df = spark.read \
.format("jdbc") \
.option("url", "jdbc:postgresql://localhost:5432/data_postgres") \
.option("dbtable", "account") \
.option("user", "postgres") \
.option("password", "postgres") \
.option("driver", "org.postgresql.Driver") \
.load()

//Loading to TigerGraph
df.write \
.mode("overwrite") \
.format("jdbc") \
.option("driver", "com.tigergraph.jdbc.Driver") \
.option("url", "jdbc:tg:https://7c141e8c3221404f923623083fa01da6.i.tgcloud.io:443") \
.option("user", "__GSQL__secret") \
.option("password", "<your secret>") \
.option("graph", "<your graph name>") \
.option("dbtable", "vertex Account") \
.option("debug", "1") \
.option("trustStore", "trust.jks") \
.option("trustStorePassword", "password") \
.option("trustStoreType", "JKS") \
.save()
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

To run the file, execute this command:
```
spark-submit postgres_to_tg.py
![copy icon](https://docs.tigergraph.com/_/img/octicons-16.svg#view-clippy)Copied!

```

3 Twin Dolphin Drive, Ste 225 Redwood City, CA 94065 
Copyright © 2025 TigerGraph
  * ## Resources
    * [Support](https://www.tigergraph.com/support/)
    * [Community](https://community.tigergraph.com/)
    * [Developer Site](https://dev.tigergraph.com/)
    * [Test Drive](https://testdrive.tigergraph.com/)
  * ## Social
    * [Linkedin](https://www.linkedin.com/company/tigergraph/)
    * [Facebook](https://www.facebook.com/TigerGraphDB/)
    * [Twitter](https://twitter.com/tigergraphdb)
  * ## Legal
    * [Privacy Policy](https://www.tigergraph.com/privacy-policy/)
    * [Terms of Use](https://www.tigergraph.com/terms/)
    * [Sitemap](https://docs.tigergraph.com/sitemap.xml)


